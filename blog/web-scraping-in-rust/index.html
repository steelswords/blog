<!doctype html><html data-theme=dark lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://tristanandrus.com name=base><title>Tristan Andrus â€¢ Web Scraping in Rust</title><link href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105 55"><text y=".7em" font-size="82">ðŸ’»</text></svg>' rel=icon><link title="Tristan Andrus - Atom Feed" href=https://tristanandrus.com/atom.xml rel=alternate type=application/atom+xml><link href="https://tristanandrus.com/spoilersection.css?h=a8f027ae57acf043de52" rel=stylesheet><link href="https://tristanandrus.com/attributedblockquote.css?h=1b96ca8639a3c4a94489" rel=stylesheet><link href="https://tristanandrus.com/custom_subset.css?h=0b9535a28bc3d5bf2321" rel=stylesheet><link href="https://tristanandrus.com/main.css?h=4a3dff148c520f191505" rel=stylesheet><meta content=dark name=color-scheme><meta content="I scraped Utah's MLS with Rust to find the commute time of different properties" name=description><meta content="I scraped Utah's MLS with Rust to find the commute time of different properties" property=og:description><meta content="index, nofollow" name=robots><meta content="Web Scraping in Rust" property=og:title><meta content=article property=og:type><meta content=en_GB property=og:locale><meta content=https://tristanandrus.com/blog/web-scraping-in-rust/ property=og:url><meta content="Tristan Andrus" property=og:site_name><meta content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;style-src 'self';frame-src player.vimeo.com https://www.youtube-nocookie.com;connect-src 'self';script-src 'self' 'self'" http-equiv=Content-Security-Policy><script defer src=https://tristanandrus.com/js/toggle_spoiler.js></script><body><header><nav class=navbar><div class=nav-title><a class=home-title href=https://tristanandrus.com>Tristan Andrus</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://tristanandrus.com/experience/> experience </a><li><a class="nav-links no-hover-padding" href=https://tristanandrus.com/blog/> blog </a><li><a class="nav-links no-hover-padding" href=https://tristanandrus.com/tags/> tags </a><li><a class="nav-links no-hover-padding" href=https://tristanandrus.com/archive/> archive </a></li><div class=nav-navs id=menu-icons-group></div></ul></div></nav></header><div class=content><main><article><h1 class=article-title>Web Scraping in Rust</h1><ul class=meta><li>23rd Apr 2023<li title="655 words"><span aria-hidden=true class=separator>â€¢</span>4 min read<li class=tag><span aria-hidden=true class=separator>â€¢</span>Tags:Â <li class=tag><a href=https://tristanandrus.com/tags/rust/>rust</a>,Â <li class=tag><a href=https://tristanandrus.com/tags/showcase/>showcase</a>,Â <li class=tag><a href=https://tristanandrus.com/tags/web-technologies/>web technologies</a></ul><section class=body><p>Link to Github: [https://github.com/steelswords/mls-scraper]<p>Recently, I have been on the hunt for a house. This has involved looking at a lot of entries on Utahâ€™s MLS (Multiple Listing System). The MLS website has lots of useful information, including the price, number of beds and baths, square footage, and so on. It also has a link to the property on Google Maps.</p><img alt="A very reasonably-sized house." class=dimmable-image height=765 src=https://tristanandrus.com/img/articles/web-scraping-in-rust/bigbighouse.jpg width=1536><p>This quaint city bungalow is perfect for those five-alarm chili parties where 11 guests need to use the bathroom at the same time.<p>As it turns out, our main criterion for picking a property, besides having a comfortable price and size, was the commute to my office. As my wife and I compiled a dataset of potential houses, it became tedious to manually look up the commute from each property. Furthermore, the address at the top is not selectable, so I canâ€™t just copy it into a spreadsheet.<p>This seems like a job for... a three-day project that saves me a total of 20 minutes!<p>The good news is this gives me a chance to try Rust. I've used Rust trivially before, but this is an opportunity to make something actually useful to me.<h1 id=what-does-it-do><a aria-label="Anchor link for: what-does-it-do" class="header-anchor no-hover-padding" href=#what-does-it-do><span aria-hidden=true class=link-icon></span></a> What Does it Do?</h1><p>The program reaches out to an MLS listing and scrapes a few of the things that are harder to get, like the address, the MLS number, and most importantly, the commute time.<p>Thatâ€™s right. I found a crate that lets me query the Google Maps API, so I automatically look up what the morning commute time is. I get directions for my work address with a departure time of 8:45 next Tuesday morning, as Tuesday is the least remarkable (and most representative) work day.<p>Hereâ€™s how it runs:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cargo</span></span><span class="z-meta z-function-call z-arguments z-shell"> run <span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>https://www.utahrealestate.com/&lt;mls number><span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span>
</span></code></pre><p>And this is the output:<pre class=z-code><code><span class="z-text z-plain">Days on URE: 135
</span><span class="z-text z-plain">Status: ACTIVE
</span><span class="z-text z-plain">MLS#: 1####4
</span><span class="z-text z-plain">Type: Single Family
</span><span class="z-text z-plain">Style: 2-Story
</span><span class="z-text z-plain">Year Built: 1939
</span><span class="z-text z-plain">Address: 2##########
</span><span class="z-text z-plain">Salt Lake City, UT 84103
</span><span class="z-text z-plain">Commute time: 42 mins
</span><span class="z-text z-plain">Time in traffic: 41 mins
</span></code></pre><h1 id=running-this-on-the-go-mobile><a aria-label="Anchor link for: running-this-on-the-go-mobile" class="header-anchor no-hover-padding" href=#running-this-on-the-go-mobile><span aria-hidden=true class=link-icon></span></a> Running this on the Go (Mobile)</h1><p>Even though I use a super-portable ultrabook, I unfortunately donâ€™t always have my laptop with me. Wouldnâ€™t it be nice to run this on my phone? Thanks to the folks over at <a href=https://userland.tech/ rel=noopener target=_blank>UserLAnd</a>, this is possible! I just had to clone my repo and manually install a few things. I seem to remember having to install a couple of packages, like <code>ca-certificates</code>.</p><img alt="A screenshot of running this program on an Android phone" class=dimmable-image height=2000 src=https://tristanandrus.com/img/articles/web-scraping-in-rust/phoneuse.jpg width=900><h1 id=potential-improvements><a aria-label="Anchor link for: potential-improvements" class="header-anchor no-hover-padding" href=#potential-improvements><span aria-hidden=true class=link-icon></span></a> Potential Improvements</h1><p>Before long, we were under contract for a house, so my internal need for this has dissipated. But if I were to make a more polished, fleshed-out version, it would look like this:<ul><li>Better commute estimation <ul><li>Evening commute<li>Make sure weâ€™re not estimating on a holiday<li>Perhaps do a little iteration to find the optimal departure time<li>Check for public transport options</ul><li>More customizability <ul><li>Configurable work address<li>Output on terminal, and/or<li>Output to a CSV to make spreadsheeting easier</ul><li>Clean up some warnings</ul><p>But for now, I was just doing this project for fun and to save myself a little bit of aggravation. So maybe Iâ€™ll come back to it, but I think probably not in any serious capacity.<h1 id=thoughts-on-rust><a aria-label="Anchor link for: thoughts-on-rust" class="header-anchor no-hover-padding" href=#thoughts-on-rust><span aria-hidden=true class=link-icon></span></a> Thoughts on Rust</h1><p>Rust is an interesting language. I find some parts really clean and snappy, like all the builtin functions. I like the safety feature, and I love that itâ€™s efficient and can go toe-to-toe with C++. The main thing I donâ€™t like is the steep learning curve. Rust works very differently from other languages I've used before, especially its borrowing system. (Die-hard Rustaceans will tell me thatâ€™s whatâ€™s so great about it.) That being said, for all my frustrations of trying to figure out why my closure expected a <code>()</code> but found a <code>&str</code>, I keep finding myself drawn to this language. There is something magical about this tricky language. I think my Rust journey is not over; it has just begun.</section></article></main><span class=hidden id=copy-success> Copied! </span><span class=hidden id=copy-init> Copy code to clipboard </span><script defer src=https://tristanandrus.com/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" href=https://tristanandrus.com/atom.xml rel=noopener target=_blank> <img alt=feed loading=lazy src=https://tristanandrus.com/social_icons/rss.svg title=feed> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://github.com/steelswords/ target=_blank> <img alt=github loading=lazy src=https://tristanandrus.com/social_icons/github.svg title=github> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://www.linkedin.com/in/tristan-andrus target=_blank> <img alt=linkedin loading=lazy src=https://tristanandrus.com/social_icons/linkedin.svg title=linkedin> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://fosstodon.org/@steelswords target=_blank> <img alt=mastodon loading=lazy src=https://tristanandrus.com/social_icons/mastodon.svg title=mastodon> </a><li><a class="nav-links no-hover-padding social" rel="noopener me" href=https://bsky.app/profile/steelswords.bsky.social target=_blank> <img alt=bluesky loading=lazy src=https://tristanandrus.com/social_icons/bluesky.svg title=bluesky> </a></ul></nav><nav class=nav-navs></nav><div class=credits><small> Powered by <a href=https://www.getzola.org rel=noopener target=_blank>Zola</a> & <a href=https://github.com/welpo/tabi rel=noopener target=_blank>tabi</a> </small></div></section></footer>